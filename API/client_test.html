<!DOCTYPE html>
<html lang="FR-fr">
 <head>

	<meta charset="UTF-8">
	<title>PatternSiloAdmin</title>
	<meta name="viewport" content="width=device-width"/>
 </head>

 <body>

 </body>
<script src="./socket.io-client/dist/socket.io.js"></script>
<script>

  var socket = io.connect('http://localhost:5110');

  var datas = new Array();

  socket.on('data',function (json) {
    var data = JSON.parse(json, function (key, value) {
        if (value
            && typeof value === "string"
            && value.substr(0,8) == "function") {
            var startBody = value.indexOf('{') + 1;
            var endBody = value.lastIndexOf('}');
            var startArgs = value.indexOf('(') + 1;
            var endArgs = value.indexOf(')');

            return new Function(value.substring(startArgs, endArgs), value.substring(startBody, endBody));

        }

        return value;

    });
    console.log(data);
    datas.push(data);
  });

  socket.on('connection_ready',function (data) {
    console.log(data);
  });

  var add = function(data){
  	socket.emit('add',data);
  };
  var get = function(data){
  	socket.emit('get',data);
  };
  var del = function(data){
  	socket.emit('delete',data);
  };
  var update = function(data){
  	socket.emit('update',data);
  };
  var disconnect = function(){
  	socket.emit('disconnect');
  };

</script>

</html>
